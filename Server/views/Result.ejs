<% layout('/layouts/boilerPlate') %>

<link rel="stylesheet" href="/css/result.css">

<div class="result-container">
  <h1 class="title">Lung Cancer Prediction Result</h1>

  <!-- Prediction -->
  <div class="prediction-box <%= prediction === 'Positive' ? 'positive' : 'negative' %>">
    <h2>Prediction: <%= prediction %></h2>
    <p>Confidence: <%= confidence %>%</p>
  </div>

  <!-- Advice -->
  <div class="advice-box">
    <% if (prediction === "Positive") { %>
      <p>⚠️ Please consult a medical professional immediately for further diagnosis and treatment options.</p>
     
    <% } else { %>
      <p>✅ No signs of lung cancer detected with high confidence.</p>
      <p>Still, regular checkups and healthy lifestyle are recommended.</p>
    <% } %>
  </div>

  <!-- Chart -->
  <canvas id="resultChart"></canvas>
</div>

<!-- Pass variables to JS -->
<script>
  const predictionData = {
    prediction: "<%= prediction %>",
    confidence: <%- JSON.stringify(confidence) %>
  };
</script>

<!-- External JS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/js/result.js"></script>
